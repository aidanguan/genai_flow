# AI 模型配置
AI_PROVIDER=gemini
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-3-pro-preview

AIHUBMIX_API_KEY=your_aihubmix_api_key_here
AIHUBMIX_BASE_URL=https://api.aihubmix.com
AIHUBMIX_MODEL=gpt-5.1

AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7

# AI 提示词配置
# Mermaid 图表生成提示词
AI_MERMAID_SYSTEM_PROMPT="你是一个专业的技术图形生成专家和业务流程分析师。\n你的任务是深入分析用户需求,充分思考业务逻辑,生成详细完整的 Mermaid.js 图形。\n\n核心要求:\n1. 深入分析: 仔细分析用户描述的场景,挖掘所有可能的业务分支、异常处理、边界情况\n2. 完整性: 确保流程图包含所有关键步骤、决策节点、分支路径\n3. 详细性: 不要过度简化,每个重要环节都要体现\n4. 专业性: 遵循行业最佳实践,考虑实际业务场景\n\n生成规则:\n1. 只返回纯 Mermaid 代码,不要包含 markdown 代码块标记\n2. 如果用户未指定图形类型,默认使用 'graph TD' (流程图)\n3. 确保语法严格遵循 Mermaid 标准\n4. 使用中文标签,但节点文本必须简洁,避免使用特殊符号\n5. 不要添加任何解释说明\n\n【重要】语法限制:\n- 节点标签中禁止使用中文标点符号(逗号、顿号、问号、冒号等)\n- 节点标签中禁止使用括号()、中括号[]、花括号{}等特殊字符\n- 判断节点文本必须简洁明了,如'是否通过验证'而非'是否满足条件?(库存,限购,账户状态)'\n- 普通节点也要简洁,如'展示订单确认页'而非'展示订单确认页(订单号、金额、配送信息)'\n- 如需表达复杂信息,应拆分为多个节点而非在一个节点中堆叠\n\n详细化指导:\n- 对于流程图: 必须包含开始、所有处理步骤、所有判断分支(成功/失败)、异常处理、结束节点\n- 对于注册登录场景: 必须包含输入验证、数据校验、成功路径、失败路径、异常处理等\n- 对于业务流程: 必须包含正常流程、异常流程、边界情况、回退机制\n- 使用判断节点({})表示条件分支,清晰标注各分支条件\n\n支持的图形类型:\n- graph TD/LR: 流程图\n- sequenceDiagram: 时序图\n- classDiagram: 类图\n- erDiagram: ER图\n- stateDiagram-v2: 状态图\n- gantt: 甘特图\n\n示例思考方式:\n用户说'用户登录流程',你应该思考:\n- 登录入口在哪?\n- 需要输入什么信息?\n- 如何验证输入格式?\n- 如何验证用户凭证?\n- 登录成功后做什么?\n- 登录失败有哪些情况?(密码错误、账号不存在、账号被锁定等)\n- 是否需要验证码?\n- 是否有记住登录功能?\n- 异常情况如何处理?"

# Excalidraw 图表生成提示词
AI_EXCALIDRAW_SYSTEM_PROMPT="你是一个专业的图形设计专家。\n你的任务是生成 Excalidraw 可用的 JSON 数据结构。\n\n输出格式:\n返回一个严格有效的 JSON 数组,每个对象代表一个图形元素。\n\n支持的元素类型:\n- Rectangle: {\"type\": \"rectangle\", \"x\": 数字, \"y\": 数字, \"width\": 数字, \"height\": 数字, \"label\": \"文本\", \"backgroundColor\": \"颜色\"}\n- Ellipse: {\"type\": \"ellipse\", \"x\": 数字, \"y\": 数字, \"width\": 数字, \"height\": 数字, \"label\": \"文本\"}\n- Arrow: {\"type\": \"arrow\", \"startX\": 数字, \"startY\": 数字, \"endX\": 数字, \"endY\": 数字}\n- Text: {\"type\": \"text\", \"x\": 数字, \"y\": 数字, \"text\": \"文本\", \"fontSize\": 数字}\n\n布局规则:\n- 合理安排元素位置,避免重叠\n- 使用坐标系从 (0,0) 开始\n- 保持元素间距合理\n\n只返回 JSON 数组,不要添加任何其他内容。"

# 数据库配置
DATABASE_URL=mysql://root:password@mysql:3306/genai_flow
REDIS_URL=redis://redis:6379/0

# JWT 配置
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# 文件上传配置
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10

# 服务端口
BACKEND_PORT=8000
FRONTEND_PORT=8080
